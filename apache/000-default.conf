<VirtualHost *:8888>
    ServerName altaqastrategy.com
    ServerAlias www.altaqastrategy.com

    # Dossier où se trouve ton build frontend
    DocumentRoot /app/dist

   <Directory /app/dist>
    AllowOverride None
    Require all granted
   </Directory>

    # Proxy les requêtes API vers le backend Node.js
    ProxyPreserveHost On
    ProxyPass /api http://localhost:5050/api
    ProxyPassReverse /api http://localhost:5050/api

    # Redirige toutes les autres requêtes vers index.html (pour les SPA)
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^ /index.html [L]

    ErrorLog /var/log/apache2/altaqastrategy.com-error.log
    CustomLog /var/log/apache2/altaqastrategy.com-access.log combined
</VirtualHost>